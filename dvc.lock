schema: '2.0'
stages:
  prepare_msk:
    cmd: python src/prepare_msk.py
    deps:
    - path: data/additional_data
      hash: md5
      md5: 61e71f211c48c21ab5c220bfccaf1232.dir
      size: 8092515
      nfiles: 2
    - path: data/avito_data
      hash: md5
      md5: c04d6b3157735304bd7744ccd77f16f2.dir
      size: 453120672
      nfiles: 33
    - path: src/prepare_msk.py
      hash: md5
      md5: 47ebef1b38a1df7f9f0dc68849300275
      size: 3228
    params:
      params.yaml:
        prepare_msk:
          random_seed: 42
          test_size: 0.2
    outs:
    - path: data/prepared/msk
      hash: md5
      md5: 1182b028d836605afdbc2dd163783962.dir
      size: 1085724
      nfiles: 2
  prepare_ru:
    cmd: python src/prepare_ru.py
    deps:
    - path: data/additional_data
      hash: md5
      md5: 61e71f211c48c21ab5c220bfccaf1232.dir
      size: 8092515
      nfiles: 2
    - path: data/avito_data
      hash: md5
      md5: c04d6b3157735304bd7744ccd77f16f2.dir
      size: 453120672
      nfiles: 33
    - path: src/prepare_ru.py
      hash: md5
      md5: 4510a05f556b1b6c8f22602cead2ddff
      size: 3710
    params:
      params.yaml:
        prepare_ru:
          random_seed: 42
          test_size: 0.2
    outs:
    - path: data/prepared/ru
      hash: md5
      md5: 5b9cd3dcb466b1b99ead4c2c58fc2766.dir
      size: 17825244
      nfiles: 2
  train_msk:
    cmd: python src/train.py msk
    deps:
    - path: data/prepared/msk/test.csv
      hash: md5
      md5: be4b70b26095ae7d6a0fee17bcb54608
      size: 217774
    - path: data/prepared/msk/train.csv
      hash: md5
      md5: 11e112033073497df9e795a1759f9098
      size: 867950
    - path: src/train.py
      hash: md5
      md5: 4a6b58b6bf3185537bfbef17bf7a461c
      size: 4204
    params:
      params.yaml:
        train_msk:
          presets:
          - medium_quality
          - optimize_for_deployment
          time_limit: 900
    outs:
    - path: models/msk
      hash: md5
      md5: ca5ff151f0d7f211a7012f572f28454e.dir
      size: 117917755
      nfiles: 13
  train_ru:
    cmd: python src/train.py ru
    deps:
    - path: data/prepared/ru/test.csv
      hash: md5
      md5: 08b369218bebe710eea41bf7d72c15b2
      size: 3566626
    - path: data/prepared/ru/train.csv
      hash: md5
      md5: 25731b04ace544c8c56301ad49f8bc99
      size: 14258618
    - path: src/train.py
      hash: md5
      md5: 4a6b58b6bf3185537bfbef17bf7a461c
      size: 4204
    params:
      params.yaml:
        train_ru:
          presets:
          - medium_quality
          - optimize_for_deployment
          time_limit: 900
    outs:
    - path: models/ru
      hash: md5
      md5: 71b0c3bd8a6b6817d917239267186ba4.dir
      size: 130055408
      nfiles: 11
