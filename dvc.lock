schema: '2.0'
stages:
  prepare_msk:
    cmd: python src/prepare_msk.py
    deps:
    - path: data/additional_data
      hash: md5
      md5: 61e71f211c48c21ab5c220bfccaf1232.dir
      size: 8092515
      nfiles: 2
    - path: data/avito_data
      hash: md5
      md5: c04d6b3157735304bd7744ccd77f16f2.dir
      size: 453120672
      nfiles: 33
    - path: src/prepare_msk.py
      hash: md5
      md5: 3b7b15448fab414521f986d06cbc04aa
      size: 3212
    params:
      params.yaml:
        prepare_msk:
          random_seed: 42
          test_size: 0.2
    outs:
    - path: data/prepared/msk
      hash: md5
      md5: 596d7b92829afeb3d5f167675721fef5.dir
      size: 1440860
      nfiles: 2
  prepare_ru:
    cmd: python src/prepare_ru.py
    deps:
    - path: data/additional_data
      hash: md5
      md5: 61e71f211c48c21ab5c220bfccaf1232.dir
      size: 8092515
      nfiles: 2
    - path: data/avito_data
      hash: md5
      md5: c04d6b3157735304bd7744ccd77f16f2.dir
      size: 453120672
      nfiles: 33
    - path: src/prepare_ru.py
      hash: md5
      md5: 1073218aa3cfebbbc701e002da2bc120
      size: 3736
    params:
      params.yaml:
        prepare_ru:
          random_seed: 42
          test_size: 0.2
    outs:
    - path: data/prepared/ru
      hash: md5
      md5: 00f818d99f166737c735b141a7fd4156.dir
      size: 21479849
      nfiles: 2
  train_models:
    cmd: python src/train.py
    deps:
    - path: data/prepared/msk/test.csv
      hash: md5
      md5: 8c263ff3800d7f8149ab20472c44fb3b
      size: 288928
    - path: data/prepared/msk/train.csv
      hash: md5
      md5: 8ce0d0feb6dd5cf0cdb25abba2e5a5de
      size: 1151932
    - path: data/prepared/ru/test.csv
      hash: md5
      md5: 84f88219e87c33d07a19734359aa125f
      size: 4298309
    - path: data/prepared/ru/train.csv
      hash: md5
      md5: a33bf32a075253303ef7f7f9df999ccf
      size: 17181540
    - path: src/train.py
      hash: md5
      md5: 1b1b0039355fd479f1d1293aef243ed8
      size: 4113
    params:
      params.yaml:
        train_msk:
          presets:
          - medium_quality
          - optimize_for_deployment
          time_limit: 800
        train_ru:
          presets:
          - medium_quality
          - optimize_for_deployment
          time_limit: 800
    outs:
    - path: dvclive_msk/metrics.json
      hash: md5
      md5: 5f405a132f42f9864950b043e4e052f8
      size: 132
    - path: dvclive_msk/plots
      hash: md5
      md5: 6549e4e09f6833ddd14ff631801bdf8b.dir
      size: 125
      nfiles: 4
    - path: dvclive_ru/metrics.json
      hash: md5
      md5: f5d6902a9cd9dbfee50218e6c6593528
      size: 131
    - path: dvclive_ru/plots
      hash: md5
      md5: e199b860ba89e44e7b402d9abe6fe19a.dir
      size: 124
      nfiles: 4
    - path: models/msk
      hash: md5
      md5: cb7c07568a2728584c22690e0aef3948.dir
      size: 122115075
      nfiles: 13
    - path: models/ru
      hash: md5
      md5: 1f445c6bdb2255e399f26d04c1806c8b.dir
      size: 596075749
      nfiles: 13
